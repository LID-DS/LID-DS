FROM alpine
RUN apk add --upgrade alpine-sdk jq
RUN apk add nmap python3 py3-pip
RUN pip3 install requests
# install hydra
RUN wget https://github.com/vanhauser-thc/thc-hydra/archive/v9.0.tar.gz
RUN tar -xzf v9.0.tar.gz
RUN cd thc-hydra-9.0 && ./configure && make && make install


WORKDIR /app
ADD nmap.sh /app
ADD hydra.sh /app
ADD exploit.py /app
ADD reverse-shell.py /app
ADD short-list.txt /app

# keep container alive
CMD ["tail", "-f", "/dev/null"]