FROM debian:10

RUN apt-get update && apt-get install --no-install-recommends -y wget \
                                                                python3 \
                                                                python3-pip \
                                                                unzip \
                                                                xvfb \
                                                                udev \
                                                                libxkbcommon0 \
                                                                libxrandr2 \
                                                                xdg-utils \
                                                                libpango-1.0-0 \
                                                                libu2f-udev \
                                                                libvulkan1 \
                                                                libnspr4 \
                                                                libnss3 \
                                                                libgtk-3-0 \
                                                                libgbm1 \
                                                                fonts-liberation \
                                                                libasound2 \
                                                                libcurl3-gnutls \
                                                                python2.7 \
    && apt list

# install chrome
RUN wget https://dl.google.com/linux/chrome/deb/pool/main/g/google-chrome-stable/google-chrome-stable_109.0.5414.74-1_amd64.deb
RUN dpkg -i google-chrome-stable_109.0.5414.74-1_amd64.deb

# python related
RUN pip3 install --upgrade pip setuptools
RUN pip3 install selenium==4.8.0 \
                  PyVirtualDisplay==3.0 \
                  requests==2.28.2 \
                  numpy==1.21.6 \
                  essential-generators==1.0 \
                  nclib==1.0.2 \
                  beautifulsoup4==4.11.1

RUN pip3 install 'urllib3==1.26' --force-reinstall

RUN wget https://chromedriver.storage.googleapis.com/109.0.5414.74/chromedriver_linux64.zip
RUN unzip chromedriver_linux64.zip -d /usr/bin
RUN chmod +x /usr/bin/chromedriver

# get SQL Map for SQL Injection
RUN wget https://github.com/sqlmapproject/sqlmap/zipball/master \
    && unzip master -d /home/ \
    && mv /home/sqlmapproject* /home/sqlmapproject

ADD bruteforce.py /home/bruteforce.py
ADD exploit.py /home/exploit.py
ADD file_upload.py /home/file_upload.py
ADD frontend_login.py /home/frontend_login.py
ADD headless_login.py /home/headless_login.py
ADD sql_injection.py /home/sql_injection.py


ADD evil_script.php /home/evil_script.php
ADD 500_worst_passwords.txt /home/500_worst_passwords.txt
ADD top_usernames_shortlist.txt /home/top_usernames_shortlist.txt

ENTRYPOINT /bin/bash
